<template>
  <span class="record_source">
    <span>åˆè¨˜éŒ²ï¼š{{ record.recordTime }}&#x3000;</span>
    <span>Last Checkï¼š{{ record.lastCheckTime }}&#x3000;</span>
    <span
      >æƒ…å ±æºï¼š
      <a
        v-if="record.source.startsWith('http')"
        :href="record.source"
        :title="record.source"
        target="_blank"
        >ğŸ”—{{ link2Name(record.source) }}</a
      ><span v-else>{{ record.source }}</span></span
    >
  </span>
</template>

<script>
export default {
  name: "DisplayRecordSource",
  props: {
    record: Object,
  },
  methods: {
    link2Name(source) {
      switch (source) {
        case "https://www.ktcom.jp/new_release.htm":
          return "å…¬å¼ã‚µã‚¤ãƒˆï¼ˆKTCï¼Œç™ºå£²äºˆå®šãƒšãƒ¼ã‚¸ï¼‰";
        case "https://bookclub.kodansha.co.jp/calendar":
          return "å…¬å¼ã‚µã‚¤ãƒˆï¼ˆè¬›è«‡ç¤¾ï¼Œæ›¸ç±ç™ºå£²äºˆå®šãƒšãƒ¼ã‚¸ï¼‰";
        case "https://kc.kodansha.co.jp/calendar":
          return "å…¬å¼ã‚µã‚¤ãƒˆï¼ˆè¬›è«‡ç¤¾ï¼Œãƒãƒ³ã‚¬ç™ºå£²äºˆå®šãƒšãƒ¼ã‚¸ï¼‰";
        case "https://dengekibunko.jp/product/newrelease-bunko.html":
          return "å…¬å¼ã‚µã‚¤ãƒˆï¼ˆé›»æ’ƒæ–‡åº«ï¼Œç™ºå£²äºˆå®šãƒšãƒ¼ã‚¸ï¼‰";
        case "https://gagagabunko.jp/release/index.html":
          return "å…¬å¼ã‚µã‚¤ãƒˆï¼ˆã‚¬ã‚¬ã‚¬æ–‡åº«ï¼Œç™ºå£²äºˆå®šãƒšãƒ¼ã‚¸ï¼‰";
        case "https://fantasiabunko.jp/":
          return "å…¬å¼ã‚µã‚¤ãƒˆï¼ˆãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ã‚¢æ–‡åº«ï¼‰";
      }
      let x = source.split("/");
      if (x.length < 3) return "Link";
      let host = x[2];
      switch (host) {
        case "www.kadokawa.co.jp":
          return "å…¬å¼ã‚µã‚¤ãƒˆ (KADOKAWA)";
        case "hon-hikidashi.jp":
          return "ã»ã‚“ã®ã²ãã ã—";
        case "www.amazon.co.jp":
          return "Amazon JP";
      }
      console.log("Unknown source: " + source);
      return "Link";
    },
  },
};
</script>

<style scoped>
a {
  text-decoration: none;
  color: inherit;
}
.record_source {
  font-size: 0.5em;
  color: #a0a0a0;
}
.record_source > span {
  display: inline-block;
}
</style>
